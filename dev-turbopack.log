   â–² Next.js 15.5.5 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://192.168.1.81:3000
   - Environments: .env.local, .env
   - Experiments (use with caution):
     Â· optimizePackageImports

 âœ“ Starting...
 â—‹ Compiling middleware ...
 âœ“ Compiled middleware in 838ms
 âœ“ Ready in 3.7s
ğŸ”¥ Middleware executed for: /login
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /login
ğŸ“‹ Is public route: true
âœ… Route is public, allowing access
ğŸ”¥ Middleware executed for: /login
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /login
ğŸ“‹ Is public route: true
âœ… Route is public, allowing access
 â—‹ Compiling /login ...
 âœ“ Compiled /login in 6.8s
 GET /login 200 in 7577ms
ğŸ”¥ Middleware executed for: /id/favicon.ico
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /id/favicon.ico
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
ğŸ”¥ Middleware executed for: /api/auth/login
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/auth/login
ğŸ“‹ Is public route: true
âœ… Route is public, allowing access
 â—‹ Compiling /api/auth/login ...
 âœ“ Compiled /api/auth/login in 910ms
 GET /api/auth/login 405 in 1380ms
ğŸ”¥ Middleware executed for: /api/auth/login
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/auth/login
ğŸ“‹ Is public route: true
âœ… Route is public, allowing access
 POST /api/auth/login 401 in 324ms
ğŸ”¥ Middleware executed for: /api/chat
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/chat
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
 âœ“ Compiled /api/chat in 336ms
prisma:info Starting a sqlite pool with 5 connections.
prisma:query SELECT `main`.`Persona`.`id`, `main`.`Persona`.`slug`, `main`.`Persona`.`name`, `main`.`Persona`.`welcomeMessage`, `main`.`Persona`.`selectedProfile`, `main`.`Persona`.`formality`, `main`.`Persona`.`empathy`, `main`.`Persona`.`enthusiasm`, `main`.`Persona`.`humor`, `main`.`Persona`.`verbosity`, `main`.`Persona`.`knowledgeDomain`, `main`.`Persona`.`languageStyle`, `main`.`Persona`.`culturalContext`, `main`.`Persona`.`expertise`, `main`.`Persona`.`personality`, `main`.`Persona`.`maxLength`, `main`.`Persona`.`minResponseTime`, `main`.`Persona`.`maxResponseTime`, `main`.`Persona`.`useEmojis`, `main`.`Persona`.`includeGreeting`, `main`.`Persona`.`askFollowUp`, `main`.`Persona`.`systemPrompt`, `main`.`Persona`.`customInstructions`, `main`.`Persona`.`isActive`, `main`.`Persona`.`createdBy`, `main`.`Persona`.`createdAt`, `main`.`Persona`.`updatedAt`, `main`.`Persona`.`userId` FROM `main`.`Persona` WHERE `main`.`Persona`.`isActive` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`User`.`id`, `main`.`User`.`name`, `main`.`User`.`email` FROM `main`.`User` WHERE `main`.`User`.`id` IN (?) LIMIT ? OFFSET ?
Using OpenRouter API with persona: Updated AI Assistant
 POST /api/chat 200 in 9351ms
prisma:query INSERT INTO `main`.`ChatMessage` (`id`, `sessionId`, `message`, `response`, `personaId`, `source`, `ip`, `userAgent`, `timestamp`) VALUES (?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `sessionId` AS `sessionId`, `message` AS `message`, `response` AS `response`, `personaId` AS `personaId`, `userId` AS `userId`, `source` AS `source`, `whatsappId` AS `whatsappId`, `ip` AS `ip`, `userAgent` AS `userAgent`, `timestamp` AS `timestamp`
ğŸ”¥ Middleware executed for: /dashboard
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /dashboard
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
 â—‹ Compiling /dashboard ...
 âœ“ Compiled /dashboard in 4.6s
 GET /dashboard 200 in 5311ms
ğŸ”¥ Middleware executed for: /id/favicon.ico
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /id/favicon.ico
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
ğŸ”¥ Middleware executed for: /dashboard/chat
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /dashboard/chat
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
 â—‹ Compiling /dashboard/chat ...
 âœ“ Compiled /dashboard/chat in 1661ms
 GET /dashboard/chat 200 in 2364ms
ğŸ”¥ Middleware executed for: /dashboard/persona
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /dashboard/persona
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
 â—‹ Compiling /dashboard/persona ...
 âœ“ Compiled /dashboard/persona in 1225ms
 GET /dashboard/persona 200 in 2086ms
ğŸ”¥ Middleware executed for: /id/favicon.ico
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /id/favicon.ico
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
 â—‹ Compiling /_not-found/page ...
ğŸ”¥ Middleware executed for: /api/auth/me
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/auth/me
ğŸ“‹ Is public route: true
âœ… Route is public, allowing access
 âœ“ Compiled /_not-found/page in 1168ms
ğŸ” validateSession called with token: eyJhbGciOiJIUzI1NiJ9...
ğŸ” verifyToken called with: eyJhbGciOiJIUzI1NiJ9...
âœ… Token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token verified, payload: { userId: 'cmgoqrg9u0000lrn4m86spwn9', email: 'admin@admin.com' }
ğŸ” Looking for session in database...
ğŸ“‹ Session found: true
ğŸ“‹ Session details: {
  id: 'cmgouiyxq0005lrw4d2zraaf9',
  isActive: true,
  expiresAt: 2025-10-20T08:03:09.277Z,
  userFound: true,
  userActive: true
}
âœ… Session valid, returning user: admin@admin.com
 GET /api/auth/me 200 in 1062ms
ğŸ”¥ Middleware executed for: /api/persona
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/persona
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
 âœ“ Compiled /api/persona in 268ms
 GET /api/persona?active=true&userId=cmgoqrg9u0000lrn4m86spwn9 200 in 634ms
prisma:query SELECT 1
prisma:query SELECT `main`.`Persona`.`id`, `main`.`Persona`.`slug`, `main`.`Persona`.`name`, `main`.`Persona`.`welcomeMessage`, `main`.`Persona`.`selectedProfile`, `main`.`Persona`.`formality`, `main`.`Persona`.`empathy`, `main`.`Persona`.`enthusiasm`, `main`.`Persona`.`humor`, `main`.`Persona`.`verbosity`, `main`.`Persona`.`knowledgeDomain`, `main`.`Persona`.`languageStyle`, `main`.`Persona`.`culturalContext`, `main`.`Persona`.`expertise`, `main`.`Persona`.`personality`, `main`.`Persona`.`maxLength`, `main`.`Persona`.`minResponseTime`, `main`.`Persona`.`maxResponseTime`, `main`.`Persona`.`useEmojis`, `main`.`Persona`.`includeGreeting`, `main`.`Persona`.`askFollowUp`, `main`.`Persona`.`systemPrompt`, `main`.`Persona`.`customInstructions`, `main`.`Persona`.`isActive`, `main`.`Persona`.`createdBy`, `main`.`Persona`.`createdAt`, `main`.`Persona`.`updatedAt`, `main`.`Persona`.`userId` FROM `main`.`Persona` WHERE (`main`.`Persona`.`isActive` = ? AND `main`.`Persona`.`userId` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`User`.`id`, `main`.`User`.`name`, `main`.`User`.`email` FROM `main`.`User` WHERE `main`.`User`.`id` IN (?) LIMIT ? OFFSET ?
 âœ“ Compiled in 359ms
 âœ“ Compiled in 480ms
ğŸ”¥ Middleware executed for: /api/auth/me
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/auth/me
ğŸ“‹ Is public route: true
âœ… Route is public, allowing access
ğŸ” validateSession called with token: eyJhbGciOiJIUzI1NiJ9...
ğŸ” verifyToken called with: eyJhbGciOiJIUzI1NiJ9...
âœ… Token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token verified, payload: { userId: 'cmgoqrg9u0000lrn4m86spwn9', email: 'admin@admin.com' }
ğŸ” Looking for session in database...
ğŸ“‹ Session found: true
ğŸ“‹ Session details: {
  id: 'cmgouiyxq0005lrw4d2zraaf9',
  isActive: true,
  expiresAt: 2025-10-20T08:03:09.277Z,
  userFound: true,
  userActive: true
}
âœ… Session valid, returning user: admin@admin.com
 GET /api/auth/me 200 in 393ms
ğŸ”¥ Middleware executed for: /api/persona
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '52' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/persona
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
prisma:query SELECT 1
prisma:query SELECT `main`.`Persona`.`id`, `main`.`Persona`.`slug`, `main`.`Persona`.`name`, `main`.`Persona`.`welcomeMessage`, `main`.`Persona`.`selectedProfile`, `main`.`Persona`.`formality`, `main`.`Persona`.`empathy`, `main`.`Persona`.`enthusiasm`, `main`.`Persona`.`humor`, `main`.`Persona`.`verbosity`, `main`.`Persona`.`knowledgeDomain`, `main`.`Persona`.`languageStyle`, `main`.`Persona`.`culturalContext`, `main`.`Persona`.`expertise`, `main`.`Persona`.`personality`, `main`.`Persona`.`maxLength`, `main`.`Persona`.`minResponseTime`, `main`.`Persona`.`maxResponseTime`, `main`.`Persona`.`useEmojis`, `main`.`Persona`.`includeGreeting`, `main`.`Persona`.`askFollowUp`, `main`.`Persona`.`systemPrompt`, `main`.`Persona`.`customInstructions`, `main`.`Persona`.`isActive`, `main`.`Persona`.`createdBy`, `main`.`Persona`.`createdAt`, `main`.`Persona`.`updatedAt`, `main`.`Persona`.`userId` FROM `main`.`Persona` WHERE (`main`.`Persona`.`isActive` = ? AND `main`.`Persona`.`userId` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`User`.`id`, `main`.`User`.`name`, `main`.`User`.`email` FROM `main`.`User` WHERE `main`.`User`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/persona?active=true&userId=cmgoqrg9u0000lrn4m86spwn9 200 in 363ms
 âœ“ Compiled in 345ms
 âœ“ Compiled in 219ms
ğŸ”¥ Middleware executed for: /dashboard/persona
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '23' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /dashboard/persona
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
ğŸ”¥ Middleware executed for: /dashboard/persona
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '23' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /dashboard/persona
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
 â—‹ Compiling /dashboard/persona ...
 âœ“ Compiled /dashboard/persona in 563ms
 GET /dashboard/persona 200 in 1824ms
ğŸ”¥ Middleware executed for: /id/favicon.ico
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '23' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /id/favicon.ico
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
 GET /id/favicon.ico 404 in 204ms
ğŸ”¥ Middleware executed for: /api/auth/me
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '23' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/auth/me
ğŸ“‹ Is public route: true
âœ… Route is public, allowing access
ğŸ” validateSession called with token: eyJhbGciOiJIUzI1NiJ9...
ğŸ” verifyToken called with: eyJhbGciOiJIUzI1NiJ9...
âœ… Token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token verified, payload: { userId: 'cmgoqrg9u0000lrn4m86spwn9', email: 'admin@admin.com' }
ğŸ” Looking for session in database...
ğŸ“‹ Session found: true
ğŸ“‹ Session details: {
  id: 'cmgouiyxq0005lrw4d2zraaf9',
  isActive: true,
  expiresAt: 2025-10-20T08:03:09.277Z,
  userFound: true,
  userActive: true
}
âœ… Session valid, returning user: admin@admin.com
 GET /api/auth/me 200 in 418ms
ğŸ”¥ Middleware executed for: /api/persona
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '23' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/persona
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
prisma:query SELECT 1
prisma:query SELECT `main`.`Persona`.`id`, `main`.`Persona`.`slug`, `main`.`Persona`.`name`, `main`.`Persona`.`welcomeMessage`, `main`.`Persona`.`selectedProfile`, `main`.`Persona`.`formality`, `main`.`Persona`.`empathy`, `main`.`Persona`.`enthusiasm`, `main`.`Persona`.`humor`, `main`.`Persona`.`verbosity`, `main`.`Persona`.`knowledgeDomain`, `main`.`Persona`.`languageStyle`, `main`.`Persona`.`culturalContext`, `main`.`Persona`.`expertise`, `main`.`Persona`.`personality`, `main`.`Persona`.`maxLength`, `main`.`Persona`.`minResponseTime`, `main`.`Persona`.`maxResponseTime`, `main`.`Persona`.`useEmojis`, `main`.`Persona`.`includeGreeting`, `main`.`Persona`.`askFollowUp`, `main`.`Persona`.`systemPrompt`, `main`.`Persona`.`customInstructions`, `main`.`Persona`.`isActive`, `main`.`Persona`.`createdBy`, `main`.`Persona`.`createdAt`, `main`.`Persona`.`updatedAt`, `main`.`Persona`.`userId` FROM `main`.`Persona` WHERE (`main`.`Persona`.`isActive` = ? AND `main`.`Persona`.`userId` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`User`.`id`, `main`.`User`.`name`, `main`.`User`.`email` FROM `main`.`User` WHERE `main`.`User`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/persona?active=true&userId=cmgoqrg9u0000lrn4m86spwn9 200 in 390ms
 âœ“ Compiled in 242ms
 âœ“ Compiled in 262ms
 âœ“ Compiled in 295ms
 âœ“ Compiled in 237ms
ğŸ”¥ Middleware executed for: /api/auth/me
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '23' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/auth/me
ğŸ“‹ Is public route: true
âœ… Route is public, allowing access
ğŸ”¥ Middleware executed for: /api/auth/me
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '23' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/auth/me
ğŸ“‹ Is public route: true
âœ… Route is public, allowing access
ğŸ” validateSession called with token: eyJhbGciOiJIUzI1NiJ9...
ğŸ” verifyToken called with: eyJhbGciOiJIUzI1NiJ9...
âœ… Token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token verified, payload: { userId: 'cmgoqrg9u0000lrn4m86spwn9', email: 'admin@admin.com' }
ğŸ” Looking for session in database...
ğŸ” validateSession called with token: eyJhbGciOiJIUzI1NiJ9...
ğŸ” verifyToken called with: eyJhbGciOiJIUzI1NiJ9...
âœ… Token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token verified, payload: { userId: 'cmgoqrg9u0000lrn4m86spwn9', email: 'admin@admin.com' }
ğŸ” Looking for session in database...
ğŸ“‹ Session found: true
ğŸ“‹ Session details: {
  id: 'cmgouiyxq0005lrw4d2zraaf9',
  isActive: true,
  expiresAt: 2025-10-20T08:03:09.277Z,
  userFound: true,
  userActive: true
}
âœ… Session valid, returning user: admin@admin.com
 GET /api/auth/me 200 in 558ms
ğŸ“‹ Session found: true
ğŸ“‹ Session details: {
  id: 'cmgouiyxq0005lrw4d2zraaf9',
  isActive: true,
  expiresAt: 2025-10-20T08:03:09.277Z,
  userFound: true,
  userActive: true
}
âœ… Session valid, returning user: admin@admin.com
 GET /api/auth/me 200 in 534ms
ğŸ”¥ Middleware executed for: /api/persona
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '23' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/persona
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
ğŸ”¥ Middleware executed for: /api/persona
ğŸª Available cookies: [
  {
  name: 'auth-token',
  value: 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJjbWdvcXJnOXUwMDAwbHJuNG04NnNwd245IiwiZW1haWwiOiJhZG1pbkBhZG1pbi5jb20iLCJyb2xlIjoiYWRtaW4iLCJuYW1lIjoiQWRtaW5pc3RyYXRvciIsImlhdCI6MTc2MDM0MjU4OSwiZXhwIjoxNzYwOTQ3Mzg5fQ.k0rCU6zj5R0ioo-Ve-FH72FPhQK7THymBbrErbFRxU8'
},
  { name: '__next_hmr_refresh_hash__', value: '23' },
  { name: 'NEXT_LOCALE', value: 'id' }
]
ğŸ” Checking route: /api/persona
ğŸ“‹ Is public route: false
ğŸ”’ Route is protected, checking authentication
ğŸª Token found: true
ğŸ” Validating token in middleware...
ğŸ” Middleware token verification for: eyJhbGciOiJIUzI1NiJ9...
âœ… Middleware token verification successful: cmgoqrg9u0000lrn4m86spwn9
âœ… Token validated, payload: admin@admin.com
âœ… Authentication successful for: admin@admin.com
prisma:query SELECT 1
prisma:query SELECT `main`.`Persona`.`id`, `main`.`Persona`.`slug`, `main`.`Persona`.`name`, `main`.`Persona`.`welcomeMessage`, `main`.`Persona`.`selectedProfile`, `main`.`Persona`.`formality`, `main`.`Persona`.`empathy`, `main`.`Persona`.`enthusiasm`, `main`.`Persona`.`humor`, `main`.`Persona`.`verbosity`, `main`.`Persona`.`knowledgeDomain`, `main`.`Persona`.`languageStyle`, `main`.`Persona`.`culturalContext`, `main`.`Persona`.`expertise`, `main`.`Persona`.`personality`, `main`.`Persona`.`maxLength`, `main`.`Persona`.`minResponseTime`, `main`.`Persona`.`maxResponseTime`, `main`.`Persona`.`useEmojis`, `main`.`Persona`.`includeGreeting`, `main`.`Persona`.`askFollowUp`, `main`.`Persona`.`systemPrompt`, `main`.`Persona`.`customInstructions`, `main`.`Persona`.`isActive`, `main`.`Persona`.`createdBy`, `main`.`Persona`.`createdAt`, `main`.`Persona`.`updatedAt`, `main`.`Persona`.`userId` FROM `main`.`Persona` WHERE (`main`.`Persona`.`isActive` = ? AND `main`.`Persona`.`userId` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`User`.`id`, `main`.`User`.`name`, `main`.`User`.`email` FROM `main`.`User` WHERE `main`.`User`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/persona?active=true&userId=cmgoqrg9u0000lrn4m86spwn9 200 in 409ms
prisma:query SELECT `main`.`Persona`.`id`, `main`.`Persona`.`slug`, `main`.`Persona`.`name`, `main`.`Persona`.`welcomeMessage`, `main`.`Persona`.`selectedProfile`, `main`.`Persona`.`formality`, `main`.`Persona`.`empathy`, `main`.`Persona`.`enthusiasm`, `main`.`Persona`.`humor`, `main`.`Persona`.`verbosity`, `main`.`Persona`.`knowledgeDomain`, `main`.`Persona`.`languageStyle`, `main`.`Persona`.`culturalContext`, `main`.`Persona`.`expertise`, `main`.`Persona`.`personality`, `main`.`Persona`.`maxLength`, `main`.`Persona`.`minResponseTime`, `main`.`Persona`.`maxResponseTime`, `main`.`Persona`.`useEmojis`, `main`.`Persona`.`includeGreeting`, `main`.`Persona`.`askFollowUp`, `main`.`Persona`.`systemPrompt`, `main`.`Persona`.`customInstructions`, `main`.`Persona`.`isActive`, `main`.`Persona`.`createdBy`, `main`.`Persona`.`createdAt`, `main`.`Persona`.`updatedAt`, `main`.`Persona`.`userId` FROM `main`.`Persona` WHERE (`main`.`Persona`.`isActive` = ? AND `main`.`Persona`.`userId` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`User`.`id`, `main`.`User`.`name`, `main`.`User`.`email` FROM `main`.`User` WHERE `main`.`User`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/persona?active=true&userId=cmgoqrg9u0000lrn4m86spwn9 200 in 379ms
